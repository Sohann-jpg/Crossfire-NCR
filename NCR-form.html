<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CrossFire Canada NCR Form</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script>
      function goToEditPage() {
        // Find the selected radio button
        let selectedOption = document.querySelector(
          'input[name="option"]:checked'
        );

        if (selectedOption) {
          // Save the selected value to local storage
          localStorage.setItem("selectedOption", selectedOption.value);

          // Before navigating to the edit page, check if there's saved data
          const savedData = localStorage.getItem(
            `editedData-${selectedOption.value}`
          );
          if (savedData) {
            localStorage.setItem("savedEdits", savedData);
          }

          // Navigate to the edit page
          window.location.href = "edit.html"; // Replace 'edit.html' with your edit page URL
        } else {
          alert("Please select an option before editing.");
        }
      }
    </script>
  </head>

  <body>
    <div id="wrapper">
        <header>
          <div class="topnav">
            <img src="images/Crossfire Logo.png" alt="Transparent Crossfire NCR logo">
            <a href="index.html" class="active">Home</a>
            <a href="NCR-form.html">NCR Logs</a>
            <a href="new-NCR-form.html">Create</a>
            <a href="admin-tools.html">Admin Tools</a>
          </div>
        </header>
      <main>
        <section class="form_close">
          <h2>NCR Quick Search</h2>
          <div class="inner-two-cols">
            <input
              type="text"
              placeholder="Search NCR # ...NCR Open"
              class="search-box"
            />
            <button class="search-button">
              Search
              <i class="fa fa-search"></i>
            </button>
          </div>
        </section>

        <fieldset class="first_form">
          <legend>NCR's currently open</legend>
          <input type="radio" id="option1" name="option" value="2024-121" />
          <label for="option1">2024-121</label><br />
          <input type="radio" id="option2" name="option" value="2024-125" />
          <label for="option2">2024-125</label><br />
          <input type="radio" id="option3" name="option" value="2024-109" />
          <label for="option3">2024-109</label>
        </fieldset>

        <div class="container">
          <button class="button_edit" onclick="goToEditPage()">Edit</button>
        </div>

        <div class="container">
          <button class="button_new" onclick="goToNewPage()">
            New NCR form
          </button>
        </div>

        <section class="form_close">
          <h2>Closed NCR Quick Search</h2>
          <div class="inner-two-cols">
            <input
              type="text"
              placeholder="Search NCR # ...NCR Closed"
              class="search-box"
            />
            <button class="search-button">
              Search
              <i class="fa fa-search"></i>
            </button>
          </div>

          <fieldset class="second_form">
            <legend>Previous NCR's (closed)</legend>
            <img src="images/form.png" alt="form" width="300" height="236" />
          </fieldset>
        </section>
      </main>

      <footer>
        <p><small>PROG1180 - 2025, Quasar Innovations (NCR Form)</small></p>
      </footer>
    </div>
  </body>
</html>
